{
    "name": "gltf_graph",
    "passes":
    [
        {
            "name": "mesh_occlusion_early_pass",
            "type": "compute",
            "inputs": [],
            "outputs":
            [
                {
                    "type": "buffer",
                    "info" : {
                        "reference": {
                            "name": "early_mesh_indirect_draw_list"
                        }
                    }
                },
                {
                    "type": "buffer",
                    "info" : {
                        "reference": {
                            "name": "early_task_indirect_draw_list"
                        }
                    }
                }
            ]
        },
        {
            "inputs":
            [
                {
                    "type": "texture",
                    "name": "depth_pyramid"
                }
            ],
            "name": "mesh_occlusion_late_pass",
            "type": "compute",
            "outputs":
            [
                {
                    "type": "buffer",
                    "info" : {
                        "reference": {
                            "name": "late_mesh_indirect_draw_list"
                        }
                    }
                },
                {
                    "type": "buffer",
                    "info" : {
                        "reference": {
                            "name": "late_task_indirect_draw_list"
                        }
                    }
                }
            ]
        },
        {
            "inputs":
            [
                {
                    "type": "buffer",
                    "name": "early_mesh_indirect_draw_list"
                },
                {
                    "type": "buffer",
                    "name": "early_task_indirect_draw_list"
                }
            ],
            "name": "gbuffer_pass_early",
            "outputs":
            [
                {
                    "type": "attachment",
                    "info" : {
                        "texture" : {
                            "name": "gbuffer_colour",
                            "format": "B8G8R8A8_UNORM",
                            "resolution": [ 1280, 800 ],
                            "load_op": "CLEAR",
                            "clear_color":[0.529, 0.807, 0.921, 1]
                        }
                    }
                },
                {
                    "type": "attachment",
                    "info" : {
                        "texture" : {
                            "name": "gbuffer_normals",
                            "format": "R16G16_SFLOAT",
                            "resolution": [ 1280, 800 ],
                            "load_op": "CLEAR",
                            "clear_color":[0.0, 0.0, 0.0, 0.0]
                        }
                    }
                },
                {
                    "type": "attachment",
                    "info" : {
                        "texture" : {
                            "name": "gbuffer_occlusion_roughness_metalness",
                            "format": "B8G8R8A8_UNORM",
                            "resolution": [ 1280, 800 ],
                            "load_op": "CLEAR",
                            "clear_color":[0.0, 0.0, 0.0, 0.0]
                        }
                    }
                },
                {
                    "type": "attachment",
                    "info" : {
                        "texture" : {
                            "name": "gbuffer_emissive",
                            "format": "R16G16B16A16_SFLOAT",
                            "resolution": [ 1280, 800 ],
                            "load_op": "CLEAR",
                            "clear_color":[0.0, 0.0, 0.0, 0.0]
                        }
                    }
                },
                {
                    "type": "attachment",
                    "info" : {
                        "texture" : {
                            "name": "depth",
                            "format": "D32_SFLOAT",
                            "resolution": [ 1280, 800 ],
                            "load_op": "CLEAR",
                            "clear_depth" : 1.0,
                            "clear_stencil" : 0
                        }
                    }
                }
            ]
        },
        {
            "inputs":
            [
                {
                    "type": "buffer",
                    "name": "late_mesh_indirect_draw_list"
                },
                {
                    "type": "buffer",
                    "name": "late_task_indirect_draw_list"
                },
                {
                    "type": "attachment",
                    "name": "gbuffer_colour"
                },
                {
                    "type": "attachment",
                    "name": "gbuffer_normals"
                },
                {
                    "type": "attachment",
                    "name": "gbuffer_occlusion_roughness_metalness"
                },
                {
                    "type": "attachment",
                    "name": "gbuffer_emissive"
                },
                {
                    "type": "attachment",
                    "name": "depth"
                },
                {
                    "type": "texture",
                    "name": "depth_pyramid"
                }
            ],
            "outputs":
            [
                {
                    "type": "reference",
                    "info" : {
                        "reference": {
                            "name": "gbuffer_colour"
                        }
                    }
                },
                {
                    "type": "reference",
                    "info" : {
                        "reference": {
                            "name": "gbuffer_normals"
                        }
                    }
                },
                {
                    "type": "reference",
                    "info" : {
                        "reference": {
                            "name": "gbuffer_occlusion_roughness_metalness"
                        }
                    }
                },
                {
                    "type": "reference",
                    "info" : {
                        "reference": {
                            "name": "gbuffer_emissive"
                        }
                    }
                }
            ],
            "name": "gbuffer_pass_late"
        },
        {
            "inputs":
            [
                {
                    "type": "texture",
                    "name": "depth"
                }
            ],
            "name": "depth_pyramid_pass",
            "type": "compute",
            "outputs":
            [
                {
                    "type": "texture",
                    "info" : {
                        "reference": {
                            "external": true,
                            "name": "depth_pyramid"
                        }
                    }
                }
            ]
        },
        {
            "name": "transparent_pass",
            "inputs":
            [
                {
                    "type": "attachment",
                    "name": "final"
                },
                {
                    "type": "attachment",
                    "name": "depth"
                }
            ],
            "outputs": []
        },
        {
            "inputs":
            [
                {
                    "type": "reference",
                    "name": "lighting"
                },
                {
                    "type": "reference",
                    "name": "depth"
                }
            ],
            "name": "depth_of_field_pass",
            "enabled": false,
            "outputs":
            [
                {
                    "type": "attachment",
                    "info" : {
                        "texture" : {
                            "name": "final",
                            "format": "B8G8R8A8_UNORM",
                            "resolution": [ 1280, 800 ],
                            "load_op": "CLEAR",
                            "clear_color":[0, 0, 0, 1]
                        }
                    }
                }
            ]
        },
        {
            "name": "debug_pass",
            "inputs":
            [
                {
                    "type": "attachment",
                    "name": "final"
                },
                {
                    "type": "attachment",
                    "name": "depth"
                }
            ],
            "outputs": []
        },
        {
            "inputs":
            [
                {
                    "type": "texture",
                    "name": "gbuffer_colour"
                },
                {
                    "type": "texture",
                    "name": "gbuffer_normals"
                },
                {
                    "type": "texture",
                    "name": "gbuffer_occlusion_roughness_metalness"
                },
                {
                    "type": "texture",
                    "name": "gbuffer_emissive"
                },
                {
                    "type": "texture",
                    "name": "depth"
                },
                {
                    "type": "shading_rate",
                    "name": "shading_rate_image"
                },
                {
                    "type":"texture",
                    "name":"indirect_lighting"
                }
            ],
            "name": "lighting_pass",
            "outputs":
            [
                {
                    "type": "attachment",
                    "info" : {
                        "texture" : {
                            "name": "final",
                            "format": "B8G8R8A8_UNORM",
                            "resolution": [ 1280, 800 ],
                            "load_op": "CLEAR",
                            "clear_color":[0, 0, 0, 1]
                        }
                    }
                }
            ]
        },
        {
            "inputs":
            [
                {
                    "type" : "texture",
                    "name" : "dummy_resource"
                }
            ],
            "name": "depth_pre_pass",
            "enabled": false,
            "outputs":
            [
                {
                    "type": "attachment",
                    "info" : {
                        "texture" : {
                            "name": "depth",
                            "format": "D32_SFLOAT",
                            "resolution": [ 1280, 800 ],
                            "load_op": "CLEAR",
                            "clear_depth" : 1.0,
                            "clear_stencil" : 0
                        }
                    }
                }
            ]
        },
        {
            "inputs":
            [
                {
                    "type": "texture",
                    "name": "dummy_resource"
                }
            ],
            "name": "point_shadows_pass",
            "enabled": true,
            "type": "compute",
            "outputs":
            [
                {
                    "type": "texture",
                    "info" : {
                        "reference": {
                            "external": true,
                            "name": "point_shadows_depth"
                        }
                    }
                }
            ]
        },
        {
            "inputs":
            [
                {
                    "type": "texture",
                    "name": "dummy_resource"
                }
            ],
            "name": "volumetric_fog_pass",
            "enabled": true,
            "type": "compute",
            "outputs":
            [
                {
                    "type": "texture",
                    "info" : {
                        "reference": {
                            "external": true,
                            "name": "volumetric_fog_texture"
                        }
                    }
                }
            ]
        },
        {
            "name": "temporal_anti_aliasing_pass",
            "inputs":
            [
                {
                    "type": "texture",
                    "name": "final"
                },
                {
                    "type": "texture",
                    "name": "depth"
                },
                {
                    "type": "texture",
                    "name": "motion_vectors"
                }
            ],
            "enabled": true,
            "type": "compute",
            "outputs":
            [
                {
                    "type": "texture",
                    "info" : {
                        "reference": {
                            "external": true,
                            "name": "taa_output"
                        }
                    }
                }
            ]
        },
        {
            "name": "motion_vector_pass",
            "inputs":
            [
                {
                    "type": "texture",
                    "name": "gbuffer_normals"
                },
                {
                    "type": "texture",
                    "name": "depth"
                }
            ],
            "enabled": true,
            "type": "compute",
            "outputs":
            [
                {
                    "type": "attachment",
                    "info" : {
                        "texture" : {
                            "name": "motion_vectors",
                            "format": "R16G16_SFLOAT",
                            "resolution": [ 1280, 800 ],
                            "load_op": "CLEAR",
                            "clear_color":[0.0, 0.0, 0.0, 0.0]
                        }
                    }
                },
                {
                    "type": "attachment",
                    "info" : {
                        "texture" : {
                            "name": "visibility_motion_vectors",
                            "format": "R16G16_SFLOAT",
                            "resolution": [ 1280, 800 ],
                            "load_op": "CLEAR",
                            "clear_color":[0.0, 0.0, 0.0, 0.0]
                        }
                    }
                }
            ]
        },
        {
            "name": "indirect_lighting_pass",
            "inputs":
            [
                {
                    "type": "texture",
                    "name": "gbuffer_normals"
                },
                {
                    "type": "texture",
                    "name": "depth"
                }
            ],
            "enabled": true,
            "type": "compute",
            "outputs":
            [
                {
                    "type": "attachment",
                    "info" : {
                        "texture" : {
                            "name": "indirect_lighting",
                            "format": "R16G16B16A16_SFLOAT",
                            "resolution": [ 1280, 800 ],
                            "load_op": "CLEAR",
                            "clear_color":[0, 0, 0, 1]
                        }
                    }
                }
            ]
        }
    ]
}